<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Pomodoro Timer</title>
    <meta name="Pomodor Study Timer" content="Vanilla JS & CSS Timer">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;700&display=swap" rel="stylesheet">
    <link href="./dist/css/style.css" rel="stylesheet">
    <script src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.16.0/js/okta-sign-in.min.js" type="text/javascript"></script>
    <link href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.16.0/css/okta-sign-in.min.css" type="text/css" rel="stylesheet"/>
    <link href="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.16.0/css/okta-theme.css" type="text/css" rel="stylesheet"/>
</head>

<body>
    
    <header class="row justify-content-center mt-3">
        <h1>Pomodoro Timer</h1>
    </header>
    <!-- Login container for Okta authentication -->
    <div id="okta-login-container"></div>

    <div class="row mt-5">
        <div class="col-md-6">
        <div>
            <h1>Focus Time</h1>
        </div>
        </div>
        <div class="col-md-6">
        <div>
            <h1>Break Time</h1>
        </div>
        </div>
    </div>

     <!-- Focus Time & Break Time Row -->
    <div class="row mb-5">
        <div class="col-md-6">
            <div class="d-flex justify-content-center">
            <h1 id="w-minutes">0</h1><h1>:</h1><h1 id="w-seconds">00</h1>
            </div>
        </div>
        <div class="col-md-6">
            <div class="d-flex justify-content-center">
            <h1 id="b-minutes">0</h1><h1>:</h1><h1 id="b-seconds">00</h1>
            </div>
        </div>
    </div>
    <!-- End -->

    <!-- Input Fields & Start/Reset/Stop Buttons -->
    <div class="input-fields mr-1">
        <input class="text-center" type="text" id="focus-input" placeholder="Focus Minutes">
    </div>
    <div class="input-fields ml-1">
        <input class="text-center" type="text" id="focus-break" placeholder="Break Minutes">
    </div>
    <div id="action">
        <button button type="button" class="btn-outline-success" id="start">Start</button>
        <button type="button" class="btn-outline-warning" id="reset">reset</button>
        <button type="button" class="btn-outline-danger" id="stop">Stop</button>
    </div>
    <!-- End -->

    <!-- Completed Cycles Counter -->
    <div class="counter mt-5">
        <h1 id="counter-header">Counter</h1>
        <h4 id="counter-count">0</h4>
        <button type="button" class="btn-outline-danger mt-2" id="clear-count">Clear Count</button>
    </div>

    <!-- Timer End Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="Timer Done" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
        <audio id="myAudio">
            <source src="./images/198841__bone666138__analog-alarm-clock.wav" type="audio/wav">
                Your browser does not support the audio element.
        </audio>
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title text-center" id="exampleModalLongTitle">Timer End</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
            <h3 id="quoteBody"></h3>
            <p id="quoteCite"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary " data-dismiss="modal">Close</button>
            </div>
        </div>
        </div>
    </div>

    <!-- End -->

    <script src="script.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </script>
    <script type="text/javascript">
        var oktaSignIn = new OktaSignIn({
          baseUrl: "https://dev-70746537.okta.com",
          clientId: "0oabhudxi6ZwiOiOu5d6",
          authParams: {
            issuer: "https://dev-70746537.okta.com/oauth2/default",
            responseType: ['token', 'id_token'],
            display: 'page'
          }
        });
      
        if (oktaSignIn.token.hasTokensInUrl()) {
          oktaSignIn.token.parseTokensFromUrl(
            // If we get here, the user just logged in.
            function success(res) {
              var accessToken = res[0];
              var idToken = res[1];
      
              oktaSignIn.tokenManager.add('accessToken', accessToken);
              oktaSignIn.tokenManager.add('idToken', idToken);
      
              window.location.hash='';
              document.getElementById("messageBox").innerHTML = "Hello, " + idToken.claims.email + "! You just logged in! :)";
            },
            function error(err) {
              console.error(err);
            }
          );
        } else {
          oktaSignIn.session.get(function (res) {
            // If we get here, the user is already signed in.
            if (res.status === 'ACTIVE') {
              document.getElementById("messageBox").innerHTML = "Hello, " + res.login + "! You are *still* logged in! :)";
              return;
            }
            oktaSignIn.renderEl(
              { el: '#okta-login-container' },
              function success(res) {},
              function error(err) {
                console.error(err);
              }
            );
          });
        }
      </script>

</body>

</html>
